# 一、项目基本使用

```shell
# 终端命令创建一个 Flutter 项目
$ flutter create flutter_ui

# 确定永远不需要移动端，即可以手动删除
$ rm -rf android ios macos windows linux

# 拉取所有项目依赖
$ flutter pub get

# 升级 carousel_slider 插件
$ flutter pub add carousel_slider

# 运行项目到浏览器
$ flutter run -d chrome

# 清理项目所有依赖
$ flutter clean
```

# 二、项目来源
项目学习视频：
  - <https://coding.imooc.com/class/741.html>，慕课甄选-2024年Flutter零基础极速入门到进阶实战
  - <https://www.bilibili.com/video/BV1kLWezCEZ3>，不秃头的程序员阿奎 - Flutter零基础极速入门到进阶实战


接口文档：
<https://api.geekailab.com/uapi/swagger-ui.html#/FlutterTrip> 或 <https://api.devio.org/uapi/swagger-ui.html#/FlutterTrip>



# 三、重要知识点

## 1、http 请求中文乱码

```dart
// 解决返回数据中文乱码
Utf8Decoder utf8decoder = const Utf8Decoder();  
String bodyString = utf8decoder.convert(response.bodyBytes);
debugPrint('--- 请求结果 = $bodyString');
```

## 2、FutureBuilder 在 main 中初始化数据

```dart
FutureBuilder(   
  future: _doInit(), 
  builder: (BuildContext context, AsyncSnapshot<dynamic> snapshot) {
  }
}
```

## 3、UI处理
- 自定义 MaterialButton ；
- Positioned.fill 填充 Stack 内容；
- Scaffold.resizeToAvoidBottomInset: false, 防止键盘弹起影响布局；
- 用 url_launcher 插件在跳转至浏览器打开网页地址；
- AutomaticKeepAliveClientMixin 用于对 PageView 的 children 保活，避免其切换时被销毁；
- MediaQuery.removePadding 清除 ListView 自带的安全间距；
- PhysicalModel，用于控制子组件的裁剪行为和投影阴影，常用于实现Material Design 风格中的卡片、浮层等具有深度感的 UI 元素。
- FocusScope.of(context).requestFocus(FocusNode());   收起键盘；
- TabBar 主题标签栏组件；
- SystemNavigator.pop() 导航栏返回：
  ```dart
  /// 返回上一页
  static pop(BuildContext context) {
    if (Navigator.canPop(context)) {
      Navigator.pop(context);
    } else {
      // ⚠️：让 App 回到手机桌面：导航堆栈中没有可以 pop 的页面，如：点击了 android 的物理返回键，
      SystemNavigator.pop();
    }
  }
  ```
- context.mounted 在 async 中判断是否使用 context;
  ```dart
  // Flutter 不建议在 async 中使用 context，通过 context.mounted 判断保证 context 可以被使用，避免内存泄露
  if (context.mounted) NavigatorUtil.pop(context);
  ```
- HiWebView H5 容器；
- 


